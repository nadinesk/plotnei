qplot(displ, hwy, data = mpg, geom = c("point", "smooth"), facets = .~drv)
g <- ggplot(mpg, aes(displ, hwy))
summary(g)
g + geom_point()
g + geom_point() + geom_smooth()
g + geom_point() + geom_smooth("lm")
g + geom_point() + geom_smooth(lm)
g + geom_point() + geom_smooth() = "lm"
g + geom_point() + geom_smooth(method = "lm")
g + geom_point() + geom_smooth(method = "lm") + facet_grid(.~drv)
g + geom_point() + geom_smooth(method = "lm") + facet_grid(.~drv) = gtitle("Swirl Rules!")
g + geom_point() + geom_smooth(method = "lm") + facet_grid(.~drv) = ggtitle("Swirl Rules!")
g + geom_point() + geom_smooth(method = "lm") + facet_grid(.~drv) + ggtitle("Swirl Rules!")
g + geom_point(color = "pink", size = 4, alpha = 0.5)
g + geom_point(size = 4, alpha = 0.5, aes(color = drv))
g + geom_point(color = aes(color = drv), labs(title = "Swirl Rules!"), labs(x = "Displacement", y = "Hwy Mileage"))
g + geom_point(color = aes(color = drv) + labs(title = "Swirl Rules!") + labs(x = "Displacement", y = "Hwy Mileage"))
g + geom_point(aes(color = drv)) + labs(title = "Swirl Rules!") + labs(x = "Displacement", y = "Hwy Mileage"))
g + geom_point(aes(color = drv)) + labs(title = "Swirl Rules!") + labs(x = "Displacement", y = "Hwy Mileage")
g + geom_point(aes(color = drv), size = 2, alpha = 0.5) + geom_smooth(size = 4, linetype = 3, method = "lm", set = FALSE)
g + geom_point(aes(color = drv), size = 2, alpha = 0.5) + geom_smooth(size = 4, linetype = 3, method = "lm", se = FALSE)
g + geom_point(aes(color = drv)) + theme_bw(base_family = "Times")
plot(myx, myy, type ="l", ylim = c(-3,3))
g <- ggplot(testdat, aes(x = myx, y = myy))
g + geom_line()
g + geom_line() + ylim(-3,3)
g + geom_line() + coord_cartesian(-3,3)
g + geom_line() + coord_cartesian(ylim = c(-3,3))
g <- ggplot(mpg, aes(x = displ, y = hwy, color = factor(year)))
g + geom_point()
g + geom_point() + facet_grid(drv~cyl, margins = TRUE)
g + geom_point() + facet_grid(drv~cyl, margins = TRUE) + geom_smooth(method = "lm", se = FALSE, size = 2, color = "black")
g + geom_point() + facet_grid(drv~cyl, margins = TRUE) + geom_smooth(method = "lm", se = FALSE, size = 2, color = "black") + labs(x = "Displacement", y = "Highway Mileage", title = "Swirl Rules!")
str(diamonds)
qplot(price, data = diamonds)
range(diamonds$price)
qplot(price, data = diamonds, binwidth = 18497/30)
brk
counts
qplot(price, data = diamonds, binwidth = 18497/30, fill = cut())
qplot(price, data = diamonds, binwidth = 18497/30, fill = cut
qplot(price, data = diamonds, binwidth = 18497/30, fill = cut)
qplot(price, data = diamonds, geom = "density")
qplot(price, data = diamonds, geom = "density", color = cut)
qplot(cara, price, data = dataset)
qplot(carat, price, data = dataset)
qplot(carat, price data = diamonds)
qplot(carat, price, data = diamonds)
qplot(carat, price, data = diamonds, shape = cut)
qplot(carat, price, data = diamonds, color = cut)
qplot(carat, price, data = diamonds, color = cut, geom_smooth = "lm")
qplot(carat, price, data = diamonds, color = cut, geom_smooth(method = "lm"))
qplot(carat, price, data = diamonds, color = cut) + geom_smooth(method = "lm")
qplot(carat, price, data = diamonds, color = cut) + geom_smooth(method = "lm") + facets = .~cut
qplot(carat, price, data = diamonds, color = cut) + geom_smooth(method = "lm") + facets = .~cut
qplot(carat, price, data = diamonds, color = cut) + geom_smooth(method = "lm")
qplot(carat,price,data=diamonds, color=cut, facets=.~cut) + geom_smooth(method="lm")
g <- ggplot(diamonds, aes(depth, price))
summary(g)
g + geom_point(alpha = 1/3)
cutpoints <- quantile(diamonds$carat, seq(0,1,length = 4), na.rm = TRUE)
cutpoints
diamonds$car2 <- cut(diamonds$carat, cutpoints)
g <- ggplot(diamonds aes(depth, price))
g <- ggplot(diamonds, aes(depth, price))
g + geom_point(alpha = 1/3, facet_grid = cut ~car2)
g + geom_point(alpha = 1/3) +  facet_grid(cut ~car2)
myd
diamonds[myd,]
(g+geom_point(alpha=1/3)+facet_grid(cut~car2)) + geom_smooth(method = "lm", size = 3, color = "pink")
g+geom_point(alpha=1/3)+facet_grid(cut~car2)+geom_smooth(method="lm",size=3,color="pink")
ggplot(diamonds, aes(carat, price)) + geom_boxplot() + facet_grid( .~cut)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(lattice)
library(datasets)
data(airquality)
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
library(datasets)
data(airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
table(airquality$Month)
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
data(airquality)
table(airquality$Month)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
pt1 <- 7+5+7
pt2 <- 5+4+7+9+6
pt1to3 <- sum(pt1, pt2, pt3)
pt3 <- 4+7+6+3
pt1to3 <- sum(pt1, pt2, pt3)
pt1to3
pt1
pt2
pt3
19+31+20
set.seed(1234)
par(mar = c(0,0,0,0))
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1,2,1), each = 4), sd =0.2)
text(x + 0.05, y + 0.05, labels = as.character1:12))
text(x + 0.05, y + 0.05, labels = as.character(1:12))
set.seed(1234)
par(mar = c(0, 0, 0, 0))
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1, 2, 1), each = 4), sd = 0.2)
plot(x, y, col = "blue", pch = 19, cex = 2)
text(x + 0.05, y + 0.05, labels = as.character(1:12))
dataFrame <- data.frame(x = x, y=y)
dist(dataFrame)
dataFrame
.84-.75
.75-1.05
0.75-1.21
1.21-1.05
1.21-.53
1.21-1.05
dist(dataFrame)
distxy <- dist(dataFrame)
hClustering <- hclust(distxy)
plot(hClustering)
hClustering
library(swirl)
install_course_zip("C:/Users/nfischoff.CENTRAL/Downloads/swirl_courses-master.zip", multi = TRUE,
which_course = "R Programming")
swirl()
dist(dataFrame)
hclust(distxy)
hc <- hclust(distxy)
hc
plot(hc)
as.dendogram(hc)
as.denrogram(hc)
as.dendrogram(hc)
plot(as.dendrogram(hc))
abline(h = 1.5, col = "blue")
abline(h = 0.4, col = "blue")
abline(h = .4, col = "blue")
abline(h = .4, col = "red")
7
5
10
12
abline(h = .05, col = "red")
dist(dFsm)
hc
heatmap(dataMatrix, col = cm.colors(25))
heatmap(mt)
mt
plot(denmt)
distmt
cmat
points(cx, cy, col = c("red", "orange", "purple"), pch = 3, cex = 2, lwd = 2)
mdist(x, y, cx, cy)
apply(distTmp, 2, which.min)
points(x,y,pch=19, cex=2, col= cols1[newClust])
tapply(x, newClust, mean)
tapply(y, newClust, mean)
points(newCx, newCy, col = cols1, pch = 8, cex = 2, lwd = 2)
mdist(x,y,newCx, newCy)
apply(distTmp2, 2, which.min)
points(x,y, pcy = 19, cex = 2, col = col1[newClust2])
points(x,y, pcy = 19, cex = 2, col = cols1[newClust2])
points(x,y,pch=19,cex=2,col=cols1[newClust2])
tapply(x, newClust2, mean)
tapply(y, newClust2, mean)
points(finalCx, finalCy, col = cols1, pch = 9, cex=2, lwd=2)
kmeans(dataFrame, centers = 3)
kmObj$iter
plot(x,y,col = kmObj$cluster, pch = 19, cex = 2)
points(kmObj$centers, col = c("black", "red", "green"), pch=3, cex=3, lwd=3)
plot(x,y,col = kmeans(dataFrame,6)$cluster, pch=19, cex=2)
plot(x,y,col = kmeans(dataFrame,6)$cluster, pch=19, cex=2)
plot(x,y,col = kmeans(dataFrame,6)$cluster, pch=19, cex=2)
head(dataMatrix)
heatmap(dataMatrix)
myedit("addPatt.R")
source(filename = "addPatt.R", local = TRUE)
source("addPatt.R", local = TRUE)
heatmap(dataMatrix)
mat
svd(mat)
matu %*% diag %*% t(matv)
svd(scale(mat))
prcomp(scale(mat))
svdsvd$v[,1]
svd$v[,1]
svd1$v[,1]
svd1$d
head(constantMatrix)
svd$d
svd2$d
svd2$v[,2]
svd2$v[,1:2]
svd2$d
dim(faceData)
a1 <- svd1$u %*% svd1$d %*% svd1$v
svd1$d[1] * (svd1$u %*% svd1$v)
a1 <- (svd1$u[,1] * svd1$d[1]) %*% t(svd1$v[,1])
myImage(a1)
a2 <- svd1$u[,1:2] %*% svd1$d[1:2] %*% t(svd1$v[,1:2])
a2 <- svd1$u[,1:2] * svd1$d[1:2] * t(svd1$v[,1:2])
a2 <- (svd1$u[,1:2] * svd1$d[1:2]) %*% t(svd1$v[,1:2])
a2 <- svd1$u[,1:2] %*% diag(svd1$d[1:2]) %*% t(svd1$v[,1:2])
myImage
myImage(a2)
myImage <- svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5])
myImage(svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5]) )
myImage(svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5]))
myImage(svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5]))
rm(myImage)
myImage(svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5]))
skip()
swirl()
myImage(svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5]))
myImage(svd1$u[,1:10] %*% diag(svd1$d[1:10]) %*% t(svd1$v[,1:10]))
dim(ssd)
names(ssd)[562:563]
names(ssd[562:563])
table(ssd$subject)
sum(table(ssd$subject))
table(ssd$activity)
sub1 <- subset(ssd, subject ==1)
dim(sub1)
names(sub1[,1:12])
myedit("showXY.R")
showMe(1:6)
mdist(sub1[,:3])
mdist(sub1[,1:3])
mdist <- sub1[,1:3]
mdist <- dist(sub1[,1:3])
hclustering <- hclust(mdist)
myplclust(hclustering, lab.col = unclass(sub1$activity))
mdist <- dist(sub1[,10:12])
hclustering <- hclust(mdist)
myplclust(hclustering, lab.col = unclass(sub1$activity))
svd1 <- svd(scale(sub1[,-c(562,563)]))
dim(svd1$u)
maxCon <- whic.max(svd1$v[,2])
maxCon <- whicj.max(svd1$v[,2])
maxCon <- which.max(svd1$v[,2])
mdist <- dist(sub1[c(10:12)])
mdist <- dist(sub1[c(10:12, maxCon)])
mdist <- dist(sub1[,c(10:12,maxCon)])
hculstering <- hclust(mdist)
hclustering <- hclust(mdist)
myplclust(hclustering, lab.col = unclass(sub1$activity))
names(sub1[maxCon])
kclust <- kmeans(sub1[,-c(562,563)]), centers = 6)
kclust <- kmeans(sub1[,-c(562,563)], centers = 6)
kClust <- kmeans(sub1[, -c(562, 563)], centers = 6)
table(kClust$cluster, sub1$activity)
kClust <- means(sub1[,-c(562,563)], centers = 6, nstart = 100)
kClust <- kmeans(sub1[,-c(562,563)], centers = 6, nstart = 100)
table(kClust$cluster, sub1$activity)
dim(kClust$centers)
laying <- kclust$size==29
laying <- which(kclust$size==29)
laying <- which(kClust$size==29)
plot(kClust$centers[laying,1:12], pch = 19, ylab = "Laying Cluster")
names(sub1[,c(1:3)])
walkdown <- which(kClust$size == 49)
plot(kClust$centers[walkdown, 1:12], pch = 19, ylab = "Walkdown Cluster")
library(dplyr)
setwd("D:/New folder")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
SCC$mot_veh <- data.frame(grepl("motor", SCC$concat, ignore.case = TRUE))
SCC$concat <- with(SCC, paste(Short.Name, EI.Sector, Option.Group, Option.Set,
SCC.Level.One, SCC.Level.Two, SCC.Level.Three, SCC.Level.Four,
sep="-"))
SCC$mot_veh <- data.frame(grepl("motor", SCC$concat, ignore.case = TRUE))
table(SCC$mot_veh)
scc_mot_veh <- subset(SCC, mot_veh == TRUE)
scc_mot_veh_01 <- scc_mot_veh$SCC
test <- data.frame(scc_mot_veh$SCC)
View(scc_mot_veh)
SCC$mot_veh <- data.frame(grepl("motor |motorcycle", SCC$concat, ignore.case = TRUE))
table(SCC$mot_veh)
scc_mot_veh <- subset(SCC, mot_veh == TRUE)
scc_mot_veh_01 <- scc_mot_veh$SCC
test <- data.frame(scc_mot_veh$SCC)
neiMV01 <- subset(NEI, SCC %in% scc_mot_veh_01 )
neiMV02 <- merge(neiMV01, scc_mot_veh, by="SCC")
neiMV03 <- neiMV02 %>%
group_by(year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)
neiMV03
gMV <- ggplot(neiMV03, aes(year, Total_Tons_Emissions))
pMV <- gMV + geom_point() + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City, 1999-2008")
gMV <- ggplot(neiMV03, aes(year, Total_Tons_Emissions))
library(ggplot2)
gMV <- ggplot(neiMV03, aes(year, Total_Tons_Emissions))
pMV <- gMV + geom_point() + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City, 1999-2008")
pMV
dev.copy(png, file = "plot5.png")
dev.off()
neiMV01 <- subset(NEI, fips == "24510" & SCC %in% scc_mot_veh_01 )
str(neiMV01)
neiMV02 <- merge(neiMV01, scc_mot_veh, by="SCC")
neiMV03 <- neiMV02 %>%
group_by(year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)
neiMV03
table(neiMV02$fips)
table(neiMV02$concat)
neiMV03 <- neiMV02 %>%
group_by(year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)
sum(neiMV02$Emissions)
gMV <- ggplot(neiMV03, aes(year, Total_Tons_Emissions))
pMV <- gMV + geom_point() + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City,
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City, 1999-2008")
pMV <- gMV + geom_point() + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City, 1999-2008")
pMV
gMV01 <- ggplot(neiMV02, aes(year, Emissions))
pMV01 <- gMV01 + geom_point() + geom_smooth(method = "lm")
pMOV01
pMV01
pMV
dev.copy(png, file = "plot5.png")
dev.off()
neiMVBCLA <- subset(NEI, (fips == "24510" | fips == "06037") & SCC %in% scc_mot_veh_01 )
str(neiMVBCLA)
table(neiMVBCLA$fips)
94+88
neiMVBCLA01 <- subset(NEI, (fips == "24510" | fips == "06037") & SCC %in% scc_mot_veh_01 )
str(neiMVBCLA01)
table(neiMVBCLA01$fips)
neiMVBCLA02 <- merge(neiMVBCLA01, scc_mot_veh, by="SCC")
table(neiMVBCLA02$fips)
table(neiMVBCLA02$Emissions)
sum(neiMVBCLA02$Emissions)
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)
gMVBCLA <- ggplot(neiMVBCLA03, aes(year, Total_Tons_Emissions))
pMVBCLA <- gMVBCLA + geom_point() + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)
neiMVBCLA03
gMVBCLA <- ggplot(neiMVBCLA03, aes(year, Total_Tons_Emissions))
pMVBCLA <- gMVBCLA + geom_point() + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
pMVBCLA <- gMVBCLA + geom_point() + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008") + col(fips)
pMVBCLA <- gMVBCLA + geom_point() + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008") + col(aes(fips))
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips)) + geom_smooth(method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips)) + geom_smooth(aes(year, fips), method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
gMVBCLA <- ggplot(neiMVBCLA03, aes(year, Total_Tons_Emissions))
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips)) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips)) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") + facet_grid(. ~ fips) +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
levels(neiMVBCLA03$fips)
neiMVBCLA03
neiMVBCLA03 %>%
mutate(fips=replace(fips, "06037" == "LA County"))
str(neiMVBCLA03)
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)%>%
as.data.frame()
str(neiMVBCLA03)
neiMVBCLA03 %>%
mutate(fips=replace(fips, "06037" == "LA County"))
neiMVBCLA03 %>%
mutate(fips=replace(fips, fips =="06037", "LA County"))
rm(neiMVBCLA03)
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
mutate(fips=replace(fips, fips =="06037", "Los Angeles County")) %>%
mutate(fips=replace(fips, fips =="24510", "Baltimore City")) %>%
rename(Total_Tons_Emissions = total)
neiMVBCLA03 <- neiMVBCLA02 %>%
mutate(fips=replace(fips, fips =="06037", "Los Angeles County")) %>%
mutate(fips=replace(fips, fips =="24510", "Baltimore City")) %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)%>%
as.data.frame()%>%
mutate(fips=replace(fips, fips =="06037", "Los Angeles County")) %>%
mutate(fips=replace(fips, fips =="24510", "Baltimore City"))
str(neiMVBCLA03)
neiMVBCLA03
gMVBCLA <- ggplot(neiMVBCLA03, aes(year, Total_Tons_Emissions))
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips)) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") + facet_grid(. ~ fips) +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
dev.copy(png, file = "plot6.png")
dev.off()
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips)) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") + facet_grid(. ~ fips) + guide_legend(title = "Location") +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips), guide = guide_legend(title = "Location")) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") + facet_grid(. ~ fips) +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips)) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") + facet_grid(. ~ fips) +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)%>%
rename(fips = Location) %>%
as.data.frame()%>%
mutate(fips=replace(fips, fips =="06037", "Los Angeles County")) %>%
mutate(fips=replace(fips, fips =="24510", "Baltimore City"))
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)%>%
rename(Location = fips) %>%
as.data.frame()%>%
mutate(fips=replace(fips, fips =="06037", "Los Angeles County")) %>%
mutate(fips=replace(fips, fips =="24510", "Baltimore City"))
rm(neiMVBCLA03)
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total)%>%
rename(Location = fips) %>%
as.data.frame()%>%
mutate(fips=replace(fips, fips =="06037", "Los Angeles County")) %>%
mutate(fips=replace(fips, fips =="24510", "Baltimore City"))
str(neiMVBCLA02)
rm(neiMVBCLA03)
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total, Location = fips)%>%
as.data.frame()%>%
mutate(fips=replace(fips, fips =="06037", "Los Angeles County")) %>%
mutate(fips=replace(fips, fips =="24510", "Baltimore City"))
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Location = fips)%>%
as.data.frame()%>%
mutate(fips=replace(fips, fips =="06037", "Los Angeles County")) %>%
mutate(fips=replace(fips, fips =="24510", "Baltimore City"))
names(neiMVBCLA02)
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total, Location = fips)%>%
rename(Location = fips) %>%
as.data.frame()%>%
mutate(Location=replace(Location, Location =="06037", "Los Angeles County")) %>%
mutate(Location=replace(Location, Location =="24510", "Baltimore City"))
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total, Location = fips)%>%
rename(Location = fips
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total, Location = fips)
neiMVBCLA03
neiMVBCLA03 <- neiMVBCLA02 %>%
group_by(fips, year) %>%
summarize(total = sum(Emissions))%>%
rename(Total_Tons_Emissions = total, Location = fips)%>%
as.data.frame()%>%
mutate(Location=replace(Location, Location =="06037", "Los Angeles County")) %>%
mutate(Location=replace(Location, Location =="24510", "Baltimore City"))
neiMVBCLA03
gMVBCLA <- ggplot(neiMVBCLA03, aes(year, Total_Tons_Emissions))
pMVBCLA <- gMVBCLA + geom_point(aes(color=fips)) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") + facet_grid(. ~ fips) +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
gMVBCLA <- ggplot(neiMVBCLA03, aes(year, Total_Tons_Emissions))
pMVBCLA <- gMVBCLA + geom_point(aes(color=Location)) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") + facet_grid(. ~ Location) +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and LA, 1999-2008")
pMVBCLA
gMVBCLA <- ggplot(neiMVBCLA03, aes(year, Total_Tons_Emissions))
pMVBCLA <- gMVBCLA + geom_point(aes(color=Location)) + geom_smooth(aes(year, Total_Tons_Emissions), method = "lm") + facet_grid(. ~ Location) +
labs(title = "Motor Vehicle Source Emissions in Tons, Baltimore City and Los Angeles County, 1999-2008")
pMVBCLA
dev.copy(png, file = "plot6.png")
dev.off()
